type = "library"
language = "typescript"

tasks {
  ["build"] {
    command = "bun --bun tsup"
    inputs = List("src/**/*.{ts,tsx}", "tsup.config.ts", "tsconfig.build.json")
    outputs = List("dist")
  }

  ["test"] {
    command = "bun test"
    inputs = List("test/**/*.{ts,tsx}")
  }

  ["artifacts"] {
    command = "bun pm pack --filename packages/core/solux.tgz"
    inputs = List("dist/*", "package.json", "README.md")
    outputs = List("solux.tgz")
  }

  ["publish"] {
    command = "bun publish -p"
  }
}
